# ============================================
# EDC CONNECTOR CONFIGURATION
# ============================================
# This file configures the basic settings for the EDC connector.
# Each property controls a specific aspect of the connector's behavior.

# --------------------------------------------
# CONNECTOR IDENTITY
# --------------------------------------------
# Unique identifier for this connector instance
# This ID is used in all communications with other connectors
edc.participant.id=urn:connector:minimal-poc

# --------------------------------------------
# WEB SERVER CONFIGURATION
# --------------------------------------------
# EDC exposes multiple HTTP endpoints on different ports:

# MANAGEMENT API: REST API for managing the connector (create assets, policies, etc.)
# Used by administrators and internal systems
web.http.management.port=8181
web.http.management.path=/api/management

# DSP (Dataspace Protocol): Protocol endpoint for connector-to-connector communication
# Used by other EDC connectors to negotiate contracts and transfer data
web.http.protocol.port=8282
web.http.protocol.path=/api/dsp

# IDS (International Data Spaces): Legacy protocol support
web.http.ids.port=8383
web.http.ids.path=/api/v1/ids

# CONTROL PLANE: General control plane endpoint
web.http.control.port=9191
web.http.control.path=/api/control

# DATA PLANE: Endpoint for actual data transfer
web.http.public.port=8080
web.http.public.path=/api/public

# --------------------------------------------
# CATALOG CONFIGURATION
# --------------------------------------------
# The catalog contains all assets available for sharing
# Consumers query the catalog to see what data is available

# How long to cache catalog entries (in seconds)
edc.catalog.cache.execution.delay.seconds=60

# --------------------------------------------
# DATA PLANE CONFIGURATION
# --------------------------------------------
# The data plane handles the actual data transfer

# Data plane API endpoint (used by control plane to coordinate transfers)
edc.dataplane.token.validation.endpoint=http://localhost:8080/api/public/validation/token

# --------------------------------------------
# TRANSFER CONFIGURATION
# --------------------------------------------
# Settings for data transfer processes

# Number of times to retry a failed transfer
edc.transfer.send.retry.limit=3

# How often to check the state of ongoing transfers (in milliseconds)
edc.transfer.state-machine.iteration-wait-millis=1000

# --------------------------------------------
# LOGGING
# --------------------------------------------
# Log level for EDC components (TRACE, DEBUG, INFO, WARN, ERROR)
edc.log.level=INFO

# --------------------------------------------
# VAULT (SECRET STORAGE)
# --------------------------------------------
# For this PoC, we use an in-memory vault (NOT for production!)
# In production, use HashiCorp Vault, Azure Key Vault, etc.
edc.vault=in-memory

# --------------------------------------------
# STORAGE
# --------------------------------------------
# For this PoC, we use in-memory storage (NOT for production!)
# In production, use PostgreSQL, Azure SQL, etc.

# Asset storage
edc.asset.store=in-memory

# Contract definition storage
edc.contract.definition.store=in-memory

# Contract negotiation storage
edc.contract.negotiation.store=in-memory

# Policy definition storage
edc.policy.definition.store=in-memory

# Transfer process storage
edc.transfer.process.store=in-memory

# --------------------------------------------
# ADDITIONAL NOTES
# --------------------------------------------
# 
# Configuration Sources:
# EDC can read configuration from multiple sources (in order of precedence):
# 1. System properties (-Dproperty=value)
# 2. Environment variables (EDC_PROPERTY_NAME=value)
# 3. Configuration files (like this one)
# 
# Property Naming:
# - Use dots (.) for system properties: edc.participant.id
# - Use underscores (_) for environment variables: EDC_PARTICIPANT_ID
# 
# Security Note:
# This configuration is for DEMONSTRATION ONLY. In production:
# - Use HTTPS for all endpoints (not HTTP)
# - Use persistent storage (PostgreSQL, etc.)
# - Use secure vault (HashiCorp Vault, Azure Key Vault)
# - Implement proper authentication and authorization
# - Use firewalls and network segmentation

# --------------------------------------------
# TOKEN VERIFICATION
# --------------------------------------------
# For data plane token verification (using mock implementation for PoC)
edc.transfer.proxy.token.verifier.publickey.alias=public-key
edc.transfer.proxy.token.signer.privatekey.alias=private-key
